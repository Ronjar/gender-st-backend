import{s as z,e as y,z as g,b as w,d as k,f as S,A as E,j as h,i as C,k as U,l as b,m as _,n as $,C as B,o as H,B as J,h as P,D as I,r as L,v}from"../chunks/scheduler.cyf-gJwo.js";import{S as M,i as G}from"../chunks/index.BE-2TLei.js";import{r as N,u as K,b as Q,n as W,s as X,q as Z,c as ee,g as te,i as se}from"../chunks/store.D4Uwuwzv.js";import{w as j}from"../chunks/index.DAwqH3JR.js";import{g as A}from"../chunks/entry.qDSHL7on.js";import{B as ne}from"../chunks/constants.BWkPU7VE.js";function O(f){let e,l,s=f[0]+1+"",n,i;return{c(){e=y("p"),l=g("You have completed round "),n=g(s),i=g(" of the study. Thank you very much so far!")},l(t){e=k(t,"P",{});var o=S(e);l=E(o,"You have completed round "),n=E(o,s),i=E(o," of the study. Thank you very much so far!"),o.forEach(h)},m(t,o){b(t,e,o),_(e,l),_(e,n),_(e,i)},p(t,o){o&1&&s!==(s=t[0]+1+"")&&J(n,s)},d(t){t&&h(e)}}}function R(f){let e,l="Results are submitted any moment...";return{c(){e=y("p"),e.textContent=l},l(s){e=k(s,"P",{"data-svelte-h":!0}),P(e)!=="svelte-fv6od1"&&(e.textContent=l)},m(s,n){b(s,e,n)},d(s){s&&h(e)}}}function V(f){let e,l="Results have been submitted.",s,n,i=f[0]>=2&&D();return{c(){e=y("p"),e.textContent=l,s=w(),i&&i.c(),n=I()},l(t){e=k(t,"P",{"data-svelte-h":!0}),P(e)!=="svelte-197bhd9"&&(e.textContent=l),s=C(t),i&&i.l(t),n=I()},m(t,o){b(t,e,o),b(t,s,o),i&&i.m(t,o),b(t,n,o)},p(t,o){t[0]>=2?i||(i=D(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(t){t&&(h(e),h(s),h(n)),i&&i.d(t)}}}function D(f){let e,l=`Thank you for participating in this test. Show this screen to the\r
        supervising person`;return{c(){e=y("p"),e.textContent=l},l(s){e=k(s,"P",{"data-svelte-h":!0}),P(e)!=="svelte-x09pvb"&&(e.textContent=l)},m(s,n){b(s,e,n)},d(s){s&&h(e)}}}function F(f){let e,l="To proceed in the study, please press the button below.",s,n,i,t,o;return{c(){e=y("p"),e.textContent=l,s=w(),n=y("button"),i=g("Next round"),this.h()},l(p){e=k(p,"P",{"data-svelte-h":!0}),P(e)!=="svelte-1unlanr"&&(e.textContent=l),s=C(p),n=k(p,"BUTTON",{class:!0});var a=S(n);i=E(a,"Next round"),a.forEach(h),this.h()},h(){U(n,"class","btn btn-primary mt-5  svelte-10exnw4"),n.disabled=oe},m(p,a){b(p,e,a),b(p,s,a),b(p,n,a),_(n,i),t||(o=L(n,"click",f[6]),t=!0)},p:$,d(p){p&&(h(e),h(s),h(n)),t=!1,o()}}}function ie(f){let e,l,s=f[5]()+"",n,i,t,o,p,a=f[0]<2&&O(f),r=!f[1]&&R(),u=f[1]&&V(f),d=f[2]&&F(f);return{c(){e=y("div"),l=y("h1"),n=g(s),i=w(),a&&a.c(),t=w(),r&&r.c(),o=w(),u&&u.c(),p=w(),d&&d.c(),this.h()},l(c){e=k(c,"DIV",{class:!0});var m=S(e);l=k(m,"H1",{});var T=S(l);n=E(T,s),T.forEach(h),i=C(m),a&&a.l(m),t=C(m),r&&r.l(m),o=C(m),u&&u.l(m),p=C(m),d&&d.l(m),m.forEach(h),this.h()},h(){U(e,"class","p-6 max-w-4xl mx-auto bg-base-200 rounded-xl shadow-md space-y-4")},m(c,m){b(c,e,m),_(e,l),_(l,n),_(e,i),a&&a.m(e,null),_(e,t),r&&r.m(e,null),_(e,o),u&&u.m(e,null),_(e,p),d&&d.m(e,null)},p(c,[m]){c[0]<2?a?a.p(c,m):(a=O(c),a.c(),a.m(e,t)):a&&(a.d(1),a=null),c[1]?r&&(r.d(1),r=null):r||(r=R(),r.c(),r.m(e,o)),c[1]?u?u.p(c,m):(u=V(c),u.c(),u.m(e,p)):u&&(u.d(1),u=null),c[2]?d?d.p(c,m):(d=F(c),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i:$,o:$,d(c){c&&h(e),a&&a.d(),r&&r.d(),u&&u.d(),d&&d.d()}}}let oe=!1;function le(f,e,l){let s,n,i=j(!1);B(f,i,r=>l(2,n=r));let t=j(!1);B(f,t,r=>l(1,s=r));let o;N.subscribe(r=>{l(0,o=r)}),H(async()=>{const r=v(K),u=v(Q),d=v(W),c=v(X),m=v(Z),T=v(ee),Y=v(te)[o];l(0,o=v(N));try{const x=await fetch(`${ne}/addset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r,gamifiedElements:Y,stai:u,ngse:d,sims:c,questions:m,answerTime:T})});if(!x.ok)throw new Error("Network response was not ok");const q=await x.json();t.set(!0),(q.round>0||q.round<3)&&(N.set(q.round),i.set(!0))}catch(x){console.error("Error uploading data:",x)}});function p(){return o<2?`End of study part ${o+1}`:"End of study, thank you for your participation"}return[o,s,n,i,t,p,async()=>{v(se)?A("/avatars"):A("/questions")}]}class me extends M{constructor(e){super(),G(this,e,le,ie,z,{})}}export{me as component};

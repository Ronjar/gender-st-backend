import{s as ce,e as v,d as _,f as B,j as b,k as h,l as N,n as X,t as st,z as j,A as G,m as f,B as ee,b as y,i as P,$ as Ee,q as Z,h as Y,o as lt,p as Je,v as W,C as Ce,r as ae,x as at,L as ve}from"../chunks/scheduler.cyf-gJwo.js";import{S as de,i as ue,c as _e,b as ge,m as pe,t as K,a as J,e as De,d as ke,g as Ie}from"../chunks/index.BE-2TLei.js";import{e as we}from"../chunks/each.D6YF6ztN.js";import{w as re,d as nt}from"../chunks/index.DAwqH3JR.js";import{i as Xe,d as Ze,e as et,f as tt,h as Be,j as rt,c as it,q as ot,a as ct}from"../chunks/store.D4Uwuwzv.js";function Te(n){let e,t,l,s,r;return{c(){e=v("div"),t=v("div"),l=v("span"),s=j(n[1]),this.h()},l(u){e=_(u,"DIV",{class:!0});var i=B(e);t=_(i,"DIV",{});var a=B(t);l=_(a,"SPAN",{});var d=B(l);s=G(d,n[1]),d.forEach(b),a.forEach(b),i.forEach(b),this.h()},h(){h(e,"class",r=`alert ${n[0]==="success"?"alert-success":"alert-error"} shadow-lg`)},m(u,i){N(u,e,i),f(e,t),f(t,l),f(l,s)},p(u,i){i&2&&ee(s,u[1]),i&1&&r!==(r=`alert ${u[0]==="success"?"alert-success":"alert-error"} shadow-lg`)&&h(e,"class",r)},d(u){u&&b(e)}}}function dt(n){let e,t=n[2]&&Te(n);return{c(){e=v("div"),t&&t.c(),this.h()},l(l){e=_(l,"DIV",{class:!0});var s=B(e);t&&t.l(s),s.forEach(b),this.h()},h(){h(e,"class","mt-5 mx-auto")},m(l,s){N(l,e,s),t&&t.m(e,null)},p(l,[s]){l[2]?t?t.p(l,s):(t=Te(l),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:X,o:X,d(l){l&&b(e),t&&t.d()}}}function ut(n,e,t){let{type:l="success"}=e,{message:s=""}=e,{visible:r=!1}=e;const u=st();function i(a,d){t(0,l=a?"success":"error"),t(1,s=d),t(2,r=!0),setTimeout(()=>{t(2,r=!1),u("dismiss")},1e3)}return n.$$set=a=>{"type"in a&&t(0,l=a.type),"message"in a&&t(1,s=a.message),"visible"in a&&t(2,r=a.visible)},[l,s,r,i]}class ft extends de{constructor(e){super(),ue(this,e,ut,dt,ce,{type:0,message:1,visible:2,showToast:3})}get showToast(){return this.$$.ctx[3]}}function Ve(n){let e,t,l;return{c(){e=v("div"),t=v("img"),this.h()},l(s){e=_(s,"DIV",{class:!0});var r=B(e);t=_(r,"IMG",{class:!0,alt:!0,src:!0}),r.forEach(b),this.h()},h(){h(t,"class","w-24 rounded-full"),h(t,"alt","User Avatar"),Z(t.src,l=n[3])||h(t,"src",l),h(e,"class","chat-image")},m(s,r){N(s,e,r),f(e,t)},p(s,r){r&8&&!Z(t.src,l=s[3])&&h(t,"src",l)},d(s){s&&b(e)}}}function ht(n){let e,t,l,s,r,u,i=n[1]&&Ve(n);return{c(){e=v("div"),t=v("div"),l=v("div"),s=j(n[0]),r=y(),i&&i.c(),this.h()},l(a){e=_(a,"DIV",{class:!0});var d=B(e);t=_(d,"DIV",{class:!0});var o=B(t);l=_(o,"DIV",{class:!0});var c=B(l);s=G(c,n[0]),c.forEach(b),r=P(o),i&&i.l(o),o.forEach(b),d.forEach(b),this.h()},h(){h(l,"class","chat-bubble text-3xl"),h(t,"class","chat chat-end"),h(e,"class",u="fixed bottom-0 right-0 mb-20 mr-20 bg-transparent shadow-none "+(n[2]?"animate-flyinbottom":"")+" svelte-1paxn1p"),Ee(e,"invisible",!n[2])},m(a,d){N(a,e,d),f(e,t),f(t,l),f(l,s),f(t,r),i&&i.m(t,null)},p(a,[d]){d&1&&ee(s,a[0]),a[1]?i?i.p(a,d):(i=Ve(a),i.c(),i.m(t,null)):i&&(i.d(1),i=null),d&4&&u!==(u="fixed bottom-0 right-0 mb-20 mr-20 bg-transparent shadow-none "+(a[2]?"animate-flyinbottom":"")+" svelte-1paxn1p")&&h(e,"class",u),d&4&&Ee(e,"invisible",!a[2])},i:X,o:X,d(a){a&&b(e),i&&i.d()}}}function ye(){return"/img/npc/avatar"+Math.floor(Math.random()*9)+".png"}function mt(n,e,t){let l="Default message",s=!1,r=!1,u=ye();Xe.subscribe(o=>{t(1,s=o)});function i(){return r}function a(o){t(0,l=o),t(3,u=ye()),t(2,r=!0)}function d(){t(2,r=!1)}return[l,s,r,u,i,a,d]}class bt extends de{constructor(e){super(),ue(this,e,mt,ht,ce,{isShowing:4,showNarration:5,hideNarration:6})}get isShowing(){return this.$$.ctx[4]}get showNarration(){return this.$$.ctx[5]}get hideNarration(){return this.$$.ctx[6]}}function Pe(n){let e,t,l="Score",s,r,u,i,a,d="right answers";return{c(){e=v("div"),t=v("div"),t.textContent=l,s=y(),r=v("div"),u=j(n[0]),i=y(),a=v("div"),a.textContent=d,this.h()},l(o){e=_(o,"DIV",{class:!0});var c=B(e);t=_(c,"DIV",{class:!0,"data-svelte-h":!0}),Y(t)!=="svelte-7gzw0e"&&(t.textContent=l),s=P(c),r=_(c,"DIV",{class:!0});var m=B(r);u=G(m,n[0]),m.forEach(b),i=P(c),a=_(c,"DIV",{class:!0,"data-svelte-h":!0}),Y(a)!=="svelte-40v8ly"&&(a.textContent=d),c.forEach(b),this.h()},h(){h(t,"class","stat-title"),h(r,"class","stat-value text-primary"),h(a,"class","stat-desc"),h(e,"class","stat")},m(o,c){N(o,e,c),f(e,t),f(e,s),f(e,r),f(r,u),f(e,i),f(e,a)},p(o,c){c&1&&ee(u,o[0])},d(o){o&&b(e)}}}function xe(n){let e,t,l="Badges",s,r,u,i,a,d="badges unlocked";return{c(){e=v("div"),t=v("div"),t.textContent=l,s=y(),r=v("div"),u=j(n[1]),i=y(),a=v("div"),a.textContent=d,this.h()},l(o){e=_(o,"DIV",{class:!0});var c=B(e);t=_(c,"DIV",{class:!0,"data-svelte-h":!0}),Y(t)!=="svelte-12jnhhi"&&(t.textContent=l),s=P(c),r=_(c,"DIV",{class:!0});var m=B(r);u=G(m,n[1]),m.forEach(b),i=P(c),a=_(c,"DIV",{class:!0,"data-svelte-h":!0}),Y(a)!=="svelte-bn8m36"&&(a.textContent=d),c.forEach(b),this.h()},h(){h(t,"class","stat-title"),h(r,"class","stat-value text-primary"),h(a,"class","stat-desc"),h(e,"class","stat")},m(o,c){N(o,e,c),f(e,t),f(e,s),f(e,r),f(r,u),f(e,i),f(e,a)},p(o,c){c&2&&ee(u,o[1])},d(o){o&&b(e)}}}function Ae(n){let e,t,l="You placed",s,r,u,i,a,d="on the leaderboard";return{c(){e=v("div"),t=v("div"),t.textContent=l,s=y(),r=v("div"),u=j(n[2]),i=y(),a=v("div"),a.textContent=d,this.h()},l(o){e=_(o,"DIV",{class:!0});var c=B(e);t=_(c,"DIV",{class:!0,"data-svelte-h":!0}),Y(t)!=="svelte-tohfta"&&(t.textContent=l),s=P(c),r=_(c,"DIV",{class:!0});var m=B(r);u=G(m,n[2]),m.forEach(b),i=P(c),a=_(c,"DIV",{class:!0,"data-svelte-h":!0}),Y(a)!=="svelte-kroy6e"&&(a.textContent=d),c.forEach(b),this.h()},h(){h(t,"class","stat-title"),h(r,"class","stat-value text-primary"),h(a,"class","stat-desc"),h(e,"class","stat")},m(o,c){N(o,e,c),f(e,t),f(e,s),f(e,r),f(r,u),f(e,i),f(e,a)},p(o,c){c&4&&ee(u,o[2])},d(o){o&&b(e)}}}function vt(n){let e,t,l,s="You finished this rounds questions",r,u,i="These are the results",a,d,o,c,m,w,E='<form method="dialog"><button class="btn">Close</button></form>',D=n[3]&&Pe(n),x=n[5]&&xe(n),C=n[4]&&Ae(n);return{c(){e=v("dialog"),t=v("div"),l=v("h3"),l.textContent=s,r=y(),u=v("p"),u.textContent=i,a=y(),d=v("div"),D&&D.c(),o=y(),x&&x.c(),c=y(),C&&C.c(),m=y(),w=v("div"),w.innerHTML=E,this.h()},l(g){e=_(g,"DIALOG",{id:!0,class:!0});var T=B(e);t=_(T,"DIV",{class:!0});var k=B(t);l=_(k,"H3",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-1w490v0"&&(l.textContent=s),r=P(k),u=_(k,"P",{"data-svelte-h":!0}),Y(u)!=="svelte-bk5b70"&&(u.textContent=i),a=P(k),d=_(k,"DIV",{class:!0});var V=B(d);D&&D.l(V),o=P(V),x&&x.l(V),c=P(V),C&&C.l(V),V.forEach(b),m=P(k),w=_(k,"DIV",{class:!0,"data-svelte-h":!0}),Y(w)!=="svelte-ij97s3"&&(w.innerHTML=E),k.forEach(b),T.forEach(b),this.h()},h(){h(l,"class","font-bold text-lg"),h(d,"class","stats bg-base-200 shadow m-5"),h(w,"class","modal-action"),h(t,"class","modal-box max-w-2xl"),h(e,"id","score_modal"),h(e,"class","modal")},m(g,T){N(g,e,T),f(e,t),f(t,l),f(t,r),f(t,u),f(t,a),f(t,d),D&&D.m(d,null),f(d,o),x&&x.m(d,null),f(d,c),C&&C.m(d,null),f(t,m),f(t,w)},p(g,[T]){g[3]?D?D.p(g,T):(D=Pe(g),D.c(),D.m(d,o)):D&&(D.d(1),D=null),g[5]?x?x.p(g,T):(x=xe(g),x.c(),x.m(d,c)):x&&(x.d(1),x=null),g[4]?C?C.p(g,T):(C=Ae(g),C.c(),C.m(d,null)):C&&(C.d(1),C=null)},i:X,o:X,d(g){g&&b(e),D&&D.d(),x&&x.d(),C&&C.d()}}}function _t(n,e,t){let l,s=0,r=0,u=6,i=!1,a=!1,d=!1;function o(E){t(0,s=E)}function c(E){t(1,r=E)}function m(E){t(2,u=E)}Ze.subscribe(E=>{t(3,i=E)}),et.subscribe(E=>{t(4,a=E)}),tt.subscribe(E=>{t(5,d=E)});function w(){(a||d||i)&&l&&l.showModal()}return lt(()=>{l=document.getElementById("score_modal")}),[s,r,u,i,a,d,o,c,m,w]}class gt extends de{constructor(e){super(),ue(this,e,_t,vt,ce,{setScore:6,setBadgeCount:7,setLeaderboardPlace:8,openModal:9})}get setScore(){return this.$$.ctx[6]}get setBadgeCount(){return this.$$.ctx[7]}get setLeaderboardPlace(){return this.$$.ctx[8]}get openModal(){return this.$$.ctx[9]}}const Me=["Keep going, you'll get it next time!","Don't worry, practice makes perfect.","Every mistake is a step forward.","You're learning, and that's what matters!","Stay positive, you'll succeed!","Mistakes are proof you're trying.","You're closer than you think!","Keep your head up, you're improving.","It's okay to get it wrong, keep trying!","You've got this, just keep at it!"],$e=["Great job! I knew you could do it.","Excellent work, keep it up!","You're doing amazing, well done!","Fantastic! You nailed it.","You're on a roll, awesome!","Perfect! Keep shining.","Bravo! That's the right answer.","Outstanding work, you're unstoppable!","You're killing it, amazing job!","Superb! You're doing great."];function pt(){const n=Math.floor(Math.random()*$e.length);return $e[n]}function kt(){const n=Math.floor(Math.random()*Me.length);return Me[n]}function Ne(n,e,...t){Math.random()<n&&e(...t)}function Le(n,e,t){const l=n.slice();return l[3]=e[t],l}function Ye(n){let e,t,l,s,r,u,i,a=n[3].tooltip+"",d,o,c;return{c(){e=v("div"),t=v("div"),l=v("img"),u=y(),i=v("p"),d=j(a),o=y(),this.h()},l(m){e=_(m,"DIV",{class:!0,"data-tip":!0});var w=B(e);t=_(w,"DIV",{class:!0});var E=B(t);l=_(E,"IMG",{src:!0,alt:!0,class:!0}),E.forEach(b),u=P(w),i=_(w,"P",{class:!0});var D=B(i);d=G(D,a),D.forEach(b),o=P(w),w.forEach(b),this.h()},h(){Z(l.src,s=n[3].src)||h(l,"src",s),h(l,"alt","Badge"),h(l,"class",r="w-24 h-24 rounded-xl "+(n[3].unlocked?"animate-unlock":"grayscale")),h(t,"class","flex justify-center"),h(i,"class","stat-desc"),h(e,"class","tooltip"),h(e,"data-tip",c=n[3].tooltip)},m(m,w){N(m,e,w),f(e,t),f(t,l),f(e,u),f(e,i),f(i,d),f(e,o)},p(m,w){w&1&&!Z(l.src,s=m[3].src)&&h(l,"src",s),w&1&&r!==(r="w-24 h-24 rounded-xl "+(m[3].unlocked?"animate-unlock":"grayscale"))&&h(l,"class",r),w&1&&a!==(a=m[3].tooltip+"")&&ee(d,a),w&1&&c!==(c=m[3].tooltip)&&h(e,"data-tip",c)},d(m){m&&b(e)}}}function wt(n){let e,t,l="Badges",s,r,u=we(n[0]),i=[];for(let a=0;a<u.length;a+=1)i[a]=Ye(Le(n,u,a));return{c(){e=v("div"),t=v("p"),t.textContent=l,s=y(),r=v("div");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=_(a,"DIV",{class:!0});var d=B(e);t=_(d,"P",{class:!0,"data-svelte-h":!0}),Y(t)!=="svelte-1xkaddo"&&(t.textContent=l),s=P(d),r=_(d,"DIV",{class:!0});var o=B(r);for(let c=0;c<i.length;c+=1)i[c].l(o);o.forEach(b),d.forEach(b),this.h()},h(){h(t,"class","stat-title mb-6"),h(r,"class","grid grid-cols-2 grid-rows-2 gap-12"),h(e,"class","w-1/2 bg-base-200 p-4 rounded-xl shadow-md")},m(a,d){N(a,e,d),f(e,t),f(e,s),f(e,r);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(r,null)},p(a,[d]){if(d&1){u=we(a[0]);let o;for(o=0;o<u.length;o+=1){const c=Le(a,u,o);i[o]?i[o].p(c,d):(i[o]=Ye(c),i[o].c(),i[o].m(r,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=u.length}},i:X,o:X,d(a){a&&b(e),Je(i,a)}}}function Et(n,e,t){let l=[{id:1,src:"/img/badges/badge1.png",unlocked:!1,tooltip:"Get 1 right answer"},{id:2,src:"/img/badges/badge2.png",unlocked:!1,tooltip:"Get 5 right answers"},{id:3,src:"/img/badges/badge3.png",unlocked:!1,tooltip:"Get 10 right answers"},{id:4,src:"/img/badges/badge4.png",unlocked:!1,tooltip:"Get 18 right answers"}];function s(){return l.filter(u=>u.unlocked).length}function r(u){t(0,l=l.map(i=>i.id===u?{...i,unlocked:!0}:i))}return[l,s,r]}class Ct extends de{constructor(e){super(),ue(this,e,Et,wt,ce,{unlockedBadgesCount:1,unlockBadge:2})}get unlockedBadgesCount(){return this.$$.ctx[1]}get unlockBadge(){return this.$$.ctx[2]}}function ie(n){return n+(3-Math.floor(Math.random()*6))}function qe(n,e,t){const l=n.slice();return l[38]=e[t],l[40]=t,l}function Se(n){let e,t,l={};return e=new bt({props:l}),n[19](e),{c(){_e(e.$$.fragment)},l(s){ge(e.$$.fragment,s)},m(s,r){pe(e,s,r),t=!0},p(s,r){const u={};e.$set(u)},i(s){t||(K(e.$$.fragment,s),t=!0)},o(s){J(e.$$.fragment,s),t=!1},d(s){n[19](null),ke(e,s)}}}function Oe(n){let e,t,l="<b>Leaderboard</b>",s,r,u,i,a,d="Rank",o,c,m,w,E=n[4]&&je(),D=n[5]&&Ge(),x=we(n[11]),C=[];for(let g=0;g<x.length;g+=1)C[g]=Re(qe(n,x,g));return{c(){e=v("div"),t=v("span"),t.innerHTML=l,s=y(),r=v("table"),u=v("thead"),i=v("tr"),a=v("th"),a.textContent=d,o=y(),E&&E.c(),c=y(),D&&D.c(),m=y(),w=v("tbody");for(let g=0;g<C.length;g+=1)C[g].c();this.h()},l(g){e=_(g,"DIV",{class:!0});var T=B(e);t=_(T,"SPAN",{class:!0,"data-svelte-h":!0}),Y(t)!=="svelte-1dg7f05"&&(t.innerHTML=l),s=P(T),r=_(T,"TABLE",{class:!0});var k=B(r);u=_(k,"THEAD",{class:!0});var V=B(u);i=_(V,"TR",{class:!0});var q=B(i);a=_(q,"TH",{class:!0,"data-svelte-h":!0}),Y(a)!=="svelte-1i0zvsj"&&(a.textContent=d),o=P(q),E&&E.l(q),c=P(q),D&&D.l(q),q.forEach(b),V.forEach(b),m=P(k),w=_(k,"TBODY",{});var $=B(w);for(let A=0;A<C.length;A+=1)C[A].l($);$.forEach(b),k.forEach(b),T.forEach(b),this.h()},h(){h(t,"class","text-primary stat-value"),h(a,"class","w-1/4"),h(i,"class","my-10"),h(u,"class","my-10"),h(r,"class","table w-full table-auto mt-10"),h(e,"class","bg-base-200 shadow-md rounded-xl p-6")},m(g,T){N(g,e,T),f(e,t),f(e,s),f(e,r),f(r,u),f(u,i),f(i,a),f(i,o),E&&E.m(i,null),f(i,c),D&&D.m(i,null),f(r,m),f(r,w);for(let k=0;k<C.length;k+=1)C[k]&&C[k].m(w,null)},p(g,T){if(g[4]?E||(E=je(),E.c(),E.m(i,c)):E&&(E.d(1),E=null),g[5]?D||(D=Ge(),D.c(),D.m(i,null)):D&&(D.d(1),D=null),T[0]&2096){x=we(g[11]);let k;for(k=0;k<x.length;k+=1){const V=qe(g,x,k);C[k]?C[k].p(V,T):(C[k]=Re(V),C[k].c(),C[k].m(w,null))}for(;k<C.length;k+=1)C[k].d(1);C.length=x.length}},d(g){g&&b(e),E&&E.d(),D&&D.d(),Je(C,g)}}}function je(n){let e,t="Profile";return{c(){e=v("th"),e.textContent=t,this.h()},l(l){e=_(l,"TH",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-12kkcfa"&&(e.textContent=t),this.h()},h(){h(e,"class","w-1/4")},m(l,s){N(l,e,s)},d(l){l&&b(e)}}}function Ge(n){let e,t="Score";return{c(){e=v("th"),e.textContent=t,this.h()},l(l){e=_(l,"TH",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-1la2c57"&&(e.textContent=t),this.h()},h(){h(e,"class","w-2/4 text-center")},m(l,s){N(l,e,s)},d(l){l&&b(e)}}}function He(n){let e,t,l;return{c(){e=v("td"),t=v("img"),this.h()},l(s){e=_(s,"TD",{class:!0});var r=B(e);t=_(r,"IMG",{src:!0,alt:!0,class:!0}),r.forEach(b),this.h()},h(){Z(t.src,l=n[38].profilePic)||h(t,"src",l),h(t,"alt","profile"),h(t,"class","w-20 h-20 rounded-full"),h(e,"class","flex justify-center items-center")},m(s,r){N(s,e,r),f(e,t)},p(s,r){r[0]&2048&&!Z(t.src,l=s[38].profilePic)&&h(t,"src",l)},d(s){s&&b(e)}}}function ze(n){let e,t=n[38].score+"",l;return{c(){e=v("td"),l=j(t),this.h()},l(s){e=_(s,"TD",{class:!0});var r=B(e);l=G(r,t),r.forEach(b),this.h()},h(){h(e,"class","text-center text-lg")},m(s,r){N(s,e,r),f(e,l)},p(s,r){r[0]&2048&&t!==(t=s[38].score+"")&&ee(l,t)},d(s){s&&b(e)}}}function Re(n){let e,t,l=n[40]+1+"",s,r,u,i,a,d=n[4]&&He(n),o=n[5]&&ze(n);return{c(){e=v("tr"),t=v("td"),s=j(l),r=y(),d&&d.c(),u=y(),o&&o.c(),i=y(),this.h()},l(c){e=_(c,"TR",{class:!0});var m=B(e);t=_(m,"TD",{class:!0});var w=B(t);s=G(w,l),w.forEach(b),r=P(m),d&&d.l(m),u=P(m),o&&o.l(m),i=P(m),m.forEach(b),this.h()},h(){h(t,"class","text-center text-lg"),h(e,"class",a=n[38].isYou?"bg-base-300":"bg-base-200")},m(c,m){N(c,e,m),f(e,t),f(t,s),f(e,r),d&&d.m(e,null),f(e,u),o&&o.m(e,null),f(e,i)},p(c,m){c[4]?d?d.p(c,m):(d=He(c),d.c(),d.m(e,u)):d&&(d.d(1),d=null),c[5]?o?o.p(c,m):(o=ze(c),o.c(),o.m(e,i)):o&&(o.d(1),o=null),m[0]&2048&&a!==(a=c[38].isYou?"bg-base-300":"bg-base-200")&&h(e,"class",a)},d(c){c&&b(e),d&&d.d(),o&&o.d()}}}function Ue(n){let e,t="Answer the following question",l,s,r=`Choose the option that best fits to replace the question\r
                    mark`,u,i,a,d,o,c,m,w,E,D,x,C,g,T,k,V,q,$,A,p,M,U,H,O,z,te,ne,fe;return{c(){e=v("p"),e.textContent=t,l=y(),s=v("p"),s.textContent=r,u=y(),i=v("div"),a=v("div"),d=v("img"),c=y(),m=v("div"),w=v("button"),E=j("Option A"),x=y(),C=v("button"),g=j("Option B"),k=y(),V=v("button"),q=j("Option C"),A=y(),p=v("button"),M=j("Option D"),H=y(),O=v("button"),z=j("Option E"),this.h()},l(L){e=_(L,"P",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-1i98t55"&&(e.textContent=t),l=P(L),s=_(L,"P",{class:!0,"data-svelte-h":!0}),Y(s)!=="svelte-mw9j0n"&&(s.textContent=r),u=P(L),i=_(L,"DIV",{class:!0});var S=B(i);a=_(S,"DIV",{class:!0});var se=B(a);d=_(se,"IMG",{src:!0,alt:!0,class:!0}),c=P(se),m=_(se,"DIV",{class:!0});var R=B(m);w=_(R,"BUTTON",{class:!0});var he=B(w);E=G(he,"Option A"),he.forEach(b),x=P(R),C=_(R,"BUTTON",{class:!0});var me=B(C);g=G(me,"Option B"),me.forEach(b),k=P(R),V=_(R,"BUTTON",{class:!0});var be=B(V);q=G(be,"Option C"),be.forEach(b),A=P(R),p=_(R,"BUTTON",{class:!0});var I=B(p);M=G(I,"Option D"),I.forEach(b),H=P(R),O=_(R,"BUTTON",{class:!0});var Q=B(O);z=G(Q,"Option E"),Q.forEach(b),R.forEach(b),se.forEach(b),S.forEach(b),this.h()},h(){h(e,"class","text-xl"),h(s,"class","text-m mb-20"),Z(d.src,o=n[10])||h(d,"src",o),h(d,"alt","Question"),h(d,"class","w-3/4 h-3/4"),h(w,"class","btn btn-primary"),w.disabled=D=!n[12],h(C,"class","btn btn-primary"),C.disabled=T=!n[12],h(V,"class","btn btn-primary"),V.disabled=$=!n[12],h(p,"class","btn btn-primary"),p.disabled=U=!n[12],h(O,"class","btn btn-primary"),O.disabled=te=!n[12],h(m,"class","flex mt-4 space-x-4"),h(a,"class","flex flex-col items-center"),h(i,"class","flex justify-between items-center")},m(L,S){N(L,e,S),N(L,l,S),N(L,s,S),N(L,u,S),N(L,i,S),f(i,a),f(a,d),f(a,c),f(a,m),f(m,w),f(w,E),f(m,x),f(m,C),f(C,g),f(m,k),f(m,V),f(V,q),f(m,A),f(m,p),f(p,M),f(m,H),f(m,O),f(O,z),ne||(fe=[ae(d,"load",n[17]),ae(w,"click",n[20]),ae(C,"click",n[21]),ae(V,"click",n[22]),ae(p,"click",n[23]),ae(O,"click",n[24])],ne=!0)},p(L,S){S[0]&1024&&!Z(d.src,o=L[10])&&h(d,"src",o),S[0]&4096&&D!==(D=!L[12])&&(w.disabled=D),S[0]&4096&&T!==(T=!L[12])&&(C.disabled=T),S[0]&4096&&$!==($=!L[12])&&(V.disabled=$),S[0]&4096&&U!==(U=!L[12])&&(p.disabled=U),S[0]&4096&&te!==(te=!L[12])&&(O.disabled=te)},d(L){L&&(b(e),b(l),b(s),b(u),b(i)),ne=!1,at(fe)}}}function Qe(n){let e,t=`<div class="mx-auto"><h2>Thank you for completing this round of logic
                            puzzles!<br/> Now, we have some questions for you. To
                            proceed, please press the button below.</h2> <a class="btn btn-primary mt-10 w-full" href="/stai">Proceed to questions</a></div>`;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-hzxa7e"&&(e.innerHTML=t),this.h()},h(){h(e,"class","flex justify-center items-center h-64")},m(l,s){N(l,e,s)},d(l){l&&b(e)}}}function Fe(n){let e,t,l="Score",s,r,u,i,a,d="1 point per question";return{c(){e=v("div"),t=v("div"),t.textContent=l,s=y(),r=v("div"),u=j(n[13]),i=y(),a=v("div"),a.textContent=d,this.h()},l(o){e=_(o,"DIV",{class:!0});var c=B(e);t=_(c,"DIV",{class:!0,"data-svelte-h":!0}),Y(t)!=="svelte-7gzw0e"&&(t.textContent=l),s=P(c),r=_(c,"DIV",{class:!0});var m=B(r);u=G(m,n[13]),m.forEach(b),i=P(c),a=_(c,"DIV",{class:!0,"data-svelte-h":!0}),Y(a)!=="svelte-kk3gaz"&&(a.textContent=d),c.forEach(b),this.h()},h(){h(t,"class","stat-title"),h(r,"class","stat-value text-primary"),h(a,"class","stat-desc"),h(e,"class","w-1/2 stat bg-base-200 mb-10 p-4 rounded-xl shadow-md")},m(o,c){N(o,e,c),f(e,t),f(e,s),f(e,r),f(r,u),f(e,i),f(e,a)},p(o,c){c[0]&8192&&ee(u,o[13])},d(o){o&&b(e)}}}function Ke(n){let e,t,l={};return e=new Ct({props:l}),n[26](e),{c(){_e(e.$$.fragment)},l(s){ge(e.$$.fragment,s)},m(s,r){pe(e,s,r),t=!0},p(s,r){const u={};e.$set(u)},i(s){t||(K(e.$$.fragment,s),t=!0)},o(s){J(e.$$.fragment,s),t=!1},d(s){n[26](null),ke(e,s)}}}function Dt(n){let e,t,l,s,r,u,i,a,d,o,c,m,w,E,D,x,C={};e=new gt({props:C}),n[18](e);let g=n[7]&&Se(n),T=n[6]&&Oe(n),k=!n[9]&&Ue(n),V=n[9]&&Qe(),q={};m=new ft({props:q}),n[25](m);let $=n[5]&&Fe(n),A=n[8]&&Ke(n);return{c(){_e(e.$$.fragment),t=y(),g&&g.c(),l=y(),s=v("div"),r=v("div"),T&&T.c(),u=y(),i=v("div"),a=v("div"),k&&k.c(),d=y(),V&&V.c(),c=y(),_e(m.$$.fragment),w=y(),E=v("div"),$&&$.c(),D=y(),A&&A.c(),this.h()},l(p){ge(e.$$.fragment,p),t=P(p),g&&g.l(p),l=P(p),s=_(p,"DIV",{class:!0});var M=B(s);r=_(M,"DIV",{class:!0});var U=B(r);T&&T.l(U),U.forEach(b),u=P(M),i=_(M,"DIV",{class:!0});var H=B(i);a=_(H,"DIV",{class:!0});var O=B(a);k&&k.l(O),d=P(O),V&&V.l(O),O.forEach(b),c=P(H),ge(m.$$.fragment,H),H.forEach(b),w=P(M),E=_(M,"DIV",{class:!0});var z=B(E);$&&$.l(z),D=P(z),A&&A.l(z),z.forEach(b),M.forEach(b),this.h()},h(){h(r,"class","w-1/4 mx-auto"),h(a,"class",o=n[12]?"":"grayscale brightness-50 pointer-events-none"),h(i,"class","p-6 w-1/2 mx-10 bg-base-200 rounded-xl shadow-md"),h(E,"class","w-1/4 mx-auto flex flex-col"),h(s,"class","flex justify-between")},m(p,M){pe(e,p,M),N(p,t,M),g&&g.m(p,M),N(p,l,M),N(p,s,M),f(s,r),T&&T.m(r,null),f(s,u),f(s,i),f(i,a),k&&k.m(a,null),f(a,d),V&&V.m(a,null),f(i,c),pe(m,i,null),f(s,w),f(s,E),$&&$.m(E,null),f(E,D),A&&A.m(E,null),x=!0},p(p,M){const U={};e.$set(U),p[7]?g?(g.p(p,M),M[0]&128&&K(g,1)):(g=Se(p),g.c(),K(g,1),g.m(l.parentNode,l)):g&&(Ie(),J(g,1,1,()=>{g=null}),De()),p[6]?T?T.p(p,M):(T=Oe(p),T.c(),T.m(r,null)):T&&(T.d(1),T=null),p[9]?k&&(k.d(1),k=null):k?k.p(p,M):(k=Ue(p),k.c(),k.m(a,d)),p[9]?V||(V=Qe(),V.c(),V.m(a,null)):V&&(V.d(1),V=null),(!x||M[0]&4096&&o!==(o=p[12]?"":"grayscale brightness-50 pointer-events-none"))&&h(a,"class",o);const H={};m.$set(H),p[5]?$?$.p(p,M):($=Fe(p),$.c(),$.m(E,D)):$&&($.d(1),$=null),p[8]?A?(A.p(p,M),M[0]&256&&K(A,1)):(A=Ke(p),A.c(),K(A,1),A.m(E,null)):A&&(Ie(),J(A,1,1,()=>{A=null}),De())},i(p){x||(K(e.$$.fragment,p),K(g),K(m.$$.fragment,p),K(A),x=!0)},o(p){J(e.$$.fragment,p),J(g),J(m.$$.fragment,p),J(A),x=!1},d(p){p&&(b(t),b(l),b(s)),n[18](null),ke(e,p),g&&g.d(p),T&&T.d(),k&&k.d(),V&&V.d(),n[25](null),ke(m),$&&$.d(),A&&A.d()}}}const We=20;function oe(n){let e;do e=1+Math.floor(Math.random()*8);while(n.has(e));return n.add(e),`/img/npc/avatar${e}.png`}function It(n,e,t){let l,s,r=re(0+W(Be)),u=re(0);Ce(n,u,I=>t(13,s=I));let i=re([]),a=re([]),d,o,c,m,w,E=re(!0);Ce(n,E,I=>t(12,l=I));let D=!1,x=!1,C=!1,g=!1,T=!1,k=!1;Xe.subscribe(I=>{t(4,D=I)}),Ze.subscribe(I=>{t(5,x=I)}),et.subscribe(I=>{t(6,C=I)}),rt.subscribe(I=>{t(7,g=I)}),tt.subscribe(I=>{t(8,T=I)});let V=["B","E","E","E","A","B","D","E","B","B","E","B","C","E","A","C","B","D","B","A","E","B","A","C","D","A","A","A","C","D","B","D","A","B","A","D","A","B","A","B","D","B","D","B","E","C","B","C","E","C","B","D","B","A","C","D","A","E","D","D"],q=new Set,$=[{score:ie(16),profilePic:oe(q),isYou:!1},{score:ie(13),profilePic:oe(q),isYou:!1},{score:ie(10),profilePic:oe(q),isYou:!1},{score:ie(7),profilePic:oe(q),isYou:!1},{score:ie(4),profilePic:oe(q),isYou:!1}];function A(I){const Q=I?"Correct answer!":"Wrong answer!";o.showToast(I,Q)}const p=async I=>{E.set(!1);const le=Date.now()-d;a.update(F=>[...F,le]),V[W(r)]===I?(u.update(F=>F+1),i.update(F=>[...F,!0]),A(!0),c!==void 0&&Ne(.2,c.showNarration,pt())):(i.update(F=>[...F,!1]),A(!1),c!==void 0&&Ne(.2,c.showNarration,kt())),await U(),await M(),r.update(F=>F+1),c!==void 0&&c.hideNarration(),E.set(!0)},M=()=>new Promise(I=>{c!==void 0&&c.isShowing()?setTimeout(()=>I(!0),5e3):setTimeout(()=>I(!0),2e3)}),U=()=>new Promise(I=>{const Q=W(r)+1;if(Q<We){const le=new Image;le.src=`/img/questions/q-${Q}.png`,le.onload=()=>I(!0)}else I(!0)});u.subscribe(I=>{if(m!==void 0)switch(I){case 1:m.unlockBadge(1);break;case 5:m.unlockBadge(2);break;case 10:m.unlockBadge(3);break;case 18:m.unlockBadge(4);break}});let H=`/img/questions/q-${0+W(Be)}.png`;r.subscribe(I=>{W(i).length<We?t(10,H=`/img/questions/q-${I}.png`):(w.setScore(W(u)),T&&w.setBadgeCount(m.unlockedBadgesCount()),w.setLeaderboardPlace(z.findIndex(Q=>Q.isYou)+1),w.openModal(),it.set(W(a)),ot.set(W(i)),t(9,k=!0))});const O=nt(u,I=>[...$,{profilePic:W(ct),score:I,isYou:!0}].sort((le,F)=>F.score-le.score));let z=[];O.subscribe(I=>{t(11,z=I)});function te(){d=Date.now()}function ne(I){ve[I?"unshift":"push"](()=>{w=I,t(3,w)})}function fe(I){ve[I?"unshift":"push"](()=>{c=I,t(1,c)})}const L=()=>p("A"),S=()=>p("B"),se=()=>p("C"),R=()=>p("D"),he=()=>p("E");function me(I){ve[I?"unshift":"push"](()=>{o=I,t(0,o)})}function be(I){ve[I?"unshift":"push"](()=>{m=I,t(2,m)})}return[o,c,m,w,D,x,C,g,T,k,H,z,l,s,u,E,p,te,ne,fe,L,S,se,R,he,me,be]}class xt extends de{constructor(e){super(),ue(this,e,It,Dt,ce,{},null,[-1,-1])}}export{xt as component};

import{s as j,e as _,b as C,d as b,f as E,h as $,i as T,j as p,k as N,l as h,m,n as k,y as f,C as B,o as O,v as g,w,r as V,x as A}from"../chunks/scheduler.Du_WS53y.js";import{S as U,i as Y}from"../chunks/index.BEvaicvu.js";import{r as x,u as z,b as D,n as H,s as J,q as L,c as M,g as R,a as F,i as G}from"../chunks/store.DLfTZ2jX.js";import{w as K}from"../chunks/index.B4nj-uY_.js";import{g as S}from"../chunks/entry.D_SwbwN1.js";import{B as Q}from"../chunks/constants.BWkPU7VE.js";function W(c){let t,i=`Thank you for participating in this test. Please show this screen to the\r
      supervising person.`;return{c(){t=_("p"),t.textContent=i},l(o){t=b(o,"P",{"data-svelte-h":!0}),$(t)!=="svelte-1h4on79"&&(t.textContent=i)},m(o,s){h(o,t,s)},p:k,d(o){o&&p(t)}}}function X(c){let t,i,o,s;return{c(){t=_("p"),i=g("You have completed round "),o=g(c[0]),s=g(" of the study. Thank you very much so far!")},l(a){t=b(a,"P",{});var r=E(t);i=w(r,"You have completed round "),o=w(r,c[0]),s=w(r," of the study. Thank you very much so far!"),r.forEach(p)},m(a,r){h(a,t,r),m(t,i),m(t,o),m(t,s)},p(a,r){r&1&&A(o,a[0])},d(a){a&&p(t)}}}function q(c){let t,i="To proceed in the study, please press the button below.",o,s,a,r,d;return{c(){t=_("p"),t.textContent=i,o=C(),s=_("button"),a=g("Next round"),this.h()},l(n){t=b(n,"P",{"data-svelte-h":!0}),$(t)!=="svelte-1unlanr"&&(t.textContent=i),o=T(n),s=b(n,"BUTTON",{class:!0});var e=E(s);a=w(e,"Next round"),e.forEach(p),this.h()},h(){N(s,"class","btn btn-primary mt-5  svelte-10exnw4"),s.disabled=tt},m(n,e){h(n,t,e),h(n,o,e),h(n,s,e),m(s,a),r||(d=V(s,"click",c[3]),r=!0)},p:k,d(n){n&&(p(t),p(o),p(s)),r=!1,d()}}}function Z(c){let t,i,o="Thank you for your participation",s,a;function r(l,u){return l[0]<3?X:W}let d=r(c),n=d(c),e=c[1]&&q(c);return{c(){t=_("div"),i=_("h1"),i.textContent=o,s=C(),n.c(),a=C(),e&&e.c(),this.h()},l(l){t=b(l,"DIV",{class:!0});var u=E(t);i=b(u,"H1",{"data-svelte-h":!0}),$(i)!=="svelte-zerxh2"&&(i.textContent=o),s=T(u),n.l(u),a=T(u),e&&e.l(u),u.forEach(p),this.h()},h(){N(t,"class","p-6 max-w-4xl mx-auto bg-base-200 rounded-xl shadow-md space-y-4")},m(l,u){h(l,t,u),m(t,i),m(t,s),n.m(t,null),m(t,a),e&&e.m(t,null)},p(l,[u]){d===(d=r(l))&&n?n.p(l,u):(n.d(1),n=d(l),n&&(n.c(),n.m(t,a))),l[1]?e?e.p(l,u):(e=q(l),e.c(),e.m(t,null)):e&&(e.d(1),e=null)},i:k,o:k,d(l){l&&p(t),n.d(),e&&e.d()}}}let tt=!1;function et(c,t,i){let o,s=f(x),a=K(!1);return B(c,a,d=>i(1,o=d)),x.subscribe(d=>{i(0,s=d)}),O(async()=>{const d=f(z),n=f(D),e=f(H),l=f(J),u=f(L),I=f(M);let P="";s<3&&(P=f(R)[s]);try{const y=await fetch(`${Q}/addset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:d,gamifiedElements:P,stai:n,ngse:e,sims:l,questions:u,answerTime:I})});if(!y.ok)throw new Error("Network response was not ok");const v=await y.json();console.log(v),v.round>0&&(x.set(v.round),v.round<3&&(F.set(""),a.set(!0)))}catch(y){console.error("Error uploading data:",y)}}),[s,o,a,async()=>{f(G)?S("/avatars"):S("/questions")}]}class lt extends U{constructor(t){super(),Y(this,t,et,Z,j,{})}}export{lt as component};

import{s as M,e as _,b as E,d as b,f as q,h as S,i as x,j as d,k as w,l as m,m as h,n as T,y as p,C as N,o as O,v as k,w as g,r as z,D as P,x as A}from"../chunks/scheduler.Du_WS53y.js";import{S as U,i as Y}from"../chunks/index.BEvaicvu.js";import{r as C,u as J,b as R,n as F,s as G,q as K,c as Q,g as W,a as X,i as Z}from"../chunks/store.DLfTZ2jX.js";import{w as V}from"../chunks/index.B4nj-uY_.js";import{g as I}from"../chunks/entry.rKX2akOy.js";import{B as ee}from"../chunks/constants.CHpHOeR6.js";function te(l){let e,t="<span>Thank you for participating in this test. Please show this screen to thesupervising person.</span>";return{c(){e=_("div"),e.innerHTML=t,this.h()},l(s){e=b(s,"DIV",{role:!0,class:!0,"data-svelte-h":!0}),S(e)!=="svelte-1ezgkdq"&&(e.innerHTML=t),this.h()},h(){w(e,"role","alert"),w(e,"class","alert alert-success")},m(s,i){m(s,e,i)},p:T,d(s){s&&d(e)}}}function se(l){let e,t=l[0]<3&&j(l);return{c(){t&&t.c(),e=P()},l(s){t&&t.l(s),e=P()},m(s,i){t&&t.m(s,i),m(s,e,i)},p(s,i){s[0]<3?t?t.p(s,i):(t=j(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){s&&d(e),t&&t.d(s)}}}function j(l){let e,t,s,i;return{c(){e=_("p"),t=k("You have completed round "),s=k(l[0]),i=k(" of the study. Thank you very much so far!")},l(a){e=b(a,"P",{});var r=q(e);t=g(r,"You have completed round "),s=g(r,l[0]),i=g(r," of the study. Thank you very much so far!"),r.forEach(d)},m(a,r){m(a,e,r),h(e,t),h(e,s),h(e,i)},p(a,r){r&1&&A(s,a[0])},d(a){a&&d(e)}}}function B(l){let e,t="To proceed in the study, please press the button below.",s,i,a,r,f;return{c(){e=_("p"),e.textContent=t,s=E(),i=_("button"),a=k("Next round"),this.h()},l(o){e=b(o,"P",{"data-svelte-h":!0}),S(e)!=="svelte-1unlanr"&&(e.textContent=t),s=x(o),i=b(o,"BUTTON",{class:!0});var n=q(i);a=g(n,"Next round"),n.forEach(d),this.h()},h(){w(i,"class","btn btn-primary mt-5  svelte-10exnw4"),i.disabled=ie},m(o,n){m(o,e,n),m(o,s,n),m(o,i,n),h(i,a),r||(f=z(i,"click",l[5]),r=!0)},p:T,d(o){o&&(d(e),d(s),d(i)),r=!1,f()}}}function ne(l){let e,t,s="Thank you for your participation",i,a;function r(u,c){return u[1]?te:se}let f=r(l),o=f(l),n=l[2]&&B(l);return{c(){e=_("div"),t=_("h1"),t.textContent=s,i=E(),o.c(),a=E(),n&&n.c(),this.h()},l(u){e=b(u,"DIV",{class:!0});var c=q(e);t=b(c,"H1",{"data-svelte-h":!0}),S(t)!=="svelte-zerxh2"&&(t.textContent=s),i=x(c),o.l(c),a=x(c),n&&n.l(c),c.forEach(d),this.h()},h(){w(e,"class","p-6 max-w-4xl mx-auto bg-base-200 rounded-xl shadow-md space-y-4")},m(u,c){m(u,e,c),h(e,t),h(e,i),o.m(e,null),h(e,a),n&&n.m(e,null)},p(u,[c]){f===(f=r(u))&&o?o.p(u,c):(o.d(1),o=f(u),o&&(o.c(),o.m(e,a))),u[2]?n?n.p(u,c):(n=B(u),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:T,o:T,d(u){u&&d(e),o.d(),n&&n.d()}}}let ie=!1;function oe(l,e,t){let s,i,a=p(C),r=V(!1);N(l,r,n=>t(2,i=n));let f=V(!1);return N(l,f,n=>t(1,s=n)),C.subscribe(n=>{t(0,a=n)}),O(async()=>{const n=p(J),u=p(R),c=p(F),D=p(G),H=p(K),L=p(Q);let $="";a<3&&($=p(W)[a]);try{const y=await fetch(`${ee}/addset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:n,gamifiedElements:$,stai:u,ngse:c,sims:D,questions:H,answerTime:L})});if(!y.ok)throw new Error("Network response was not ok");const v=await y.json();console.log(v),v.round>0&&(v.round<3?(X.set(""),C.set(v.round),r.set(!0)):f.set(!0))}catch(y){console.error("Error uploading data:",y)}}),[a,s,i,r,f,async()=>{p(Z)?I("/avatars"):I("/questions")}]}class de extends U{constructor(e){super(),Y(this,e,oe,ne,M,{})}}export{de as component};

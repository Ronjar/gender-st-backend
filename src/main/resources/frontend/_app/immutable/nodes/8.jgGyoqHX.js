import{s as me,e as g,c as v,b as y,f as _,h as d,i as O,n as re,H as Ge,x as J,y as X,j as n,z as ne,a as C,d as I,g as M,o as Ue,l as S,m as W,r as Re,A as Se,G as le,k as ze,J as pe}from"../chunks/scheduler.1dHxLCaq.js";import{S as ge,i as ve,c as Ye,b as Le,m as Oe,t as ue,a as fe,d as qe}from"../chunks/index.BwwAWpwv.js";import{e as we}from"../chunks/each.D6YF6ztN.js";import{d as Ke,w as de}from"../chunks/index.BrAEm8Ez.js";import{g as Qe}from"../chunks/entry.eBlFtu3z.js";import{i as Ne,a as He,c as he,d as Fe,e as We,f as Je,q as Xe}from"../chunks/store.DO6jdtwO.js";function ke(l){let e,t,s,a,r;return{c(){e=g("div"),t=g("div"),s=g("span"),a=J(l[1]),this.h()},l(m){e=v(m,"DIV",{class:!0});var u=y(e);t=v(u,"DIV",{});var o=y(t);s=v(o,"SPAN",{});var p=y(s);a=X(p,l[1]),p.forEach(_),o.forEach(_),u.forEach(_),this.h()},h(){d(e,"class",r=`alert ${l[0]==="success"?"alert-success":"alert-error"} shadow-lg`)},m(m,u){O(m,e,u),n(e,t),n(t,s),n(s,a)},p(m,u){u&2&&ne(a,m[1]),u&1&&r!==(r=`alert ${m[0]==="success"?"alert-success":"alert-error"} shadow-lg`)&&d(e,"class",r)},d(m){m&&_(e)}}}function Ze(l){let e,t=l[2]&&ke(l);return{c(){e=g("div"),t&&t.c(),this.h()},l(s){e=v(s,"DIV",{class:!0});var a=y(e);t&&t.l(a),a.forEach(_),this.h()},h(){d(e,"class","mt-5 mx-auto")},m(s,a){O(s,e,a),t&&t.m(e,null)},p(s,[a]){s[2]?t?t.p(s,a):(t=ke(s),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:re,o:re,d(s){s&&_(e),t&&t.d()}}}function $e(l,e,t){let{type:s="success"}=e,{message:a=""}=e,{visible:r=!1}=e;const m=Ge();function u(o,p){t(0,s=o?"success":"error"),t(1,a=p),t(2,r=!0),setTimeout(()=>{t(2,r=!1),m("dismiss")},1e3)}return l.$$set=o=>{"type"in o&&t(0,s=o.type),"message"in o&&t(1,a=o.message),"visible"in o&&t(2,r=o.visible)},[s,a,r,u]}class et extends ge{constructor(e){super(),ve(this,e,$e,Ze,me,{type:0,message:1,visible:2,showToast:3})}get showToast(){return this.$$.ctx[3]}}function Ee(l){let e,t,s;return{c(){e=g("div"),t=g("img"),this.h()},l(a){e=v(a,"DIV",{class:!0});var r=y(e);t=v(r,"IMG",{class:!0,alt:!0,src:!0}),r.forEach(_),this.h()},h(){d(t,"class","w-10 rounded-full"),d(t,"alt","User Avatar"),S(t.src,s=l[2])||d(t,"src",s),d(e,"class","chat-image avatar")},m(a,r){O(a,e,r),n(e,t)},p(a,r){r&4&&!S(t.src,s=a[2])&&d(t,"src",s)},d(a){a&&_(e)}}}function xe(l){let e,t='<img class="w-10 rounded-full" alt="User Avatar" src="/img/npc/avatar0.png"/>';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(s){e=v(s,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-x58s9t"&&(e.innerHTML=t),this.h()},h(){d(e,"class","chat-image avatar")},m(s,a){O(s,e,a)},d(s){s&&_(e)}}}function tt(l){let e,t,s,a,r,m,u,o,p,E='<button type="submit">close</button>',f=l[1]&&Ee(l),i=!l[1]&&xe();return{c(){e=g("dialog"),t=g("div"),s=g("div"),f&&f.c(),a=C(),i&&i.c(),r=C(),m=g("div"),u=J(l[0]),o=C(),p=g("form"),p.innerHTML=E,this.h()},l(h){e=v(h,"DIALOG",{id:!0,class:!0});var c=y(e);t=v(c,"DIV",{class:!0});var w=y(t);s=v(w,"DIV",{class:!0});var x=y(s);f&&f.l(x),a=I(x),i&&i.l(x),r=I(x),m=v(x,"DIV",{class:!0});var k=y(m);u=X(k,l[0]),k.forEach(_),x.forEach(_),w.forEach(_),o=I(c),p=v(c,"FORM",{method:!0,class:!0,"data-svelte-h":!0}),M(p)!=="svelte-wesrtt"&&(p.innerHTML=E),c.forEach(_),this.h()},h(){d(m,"class","chat-bubble text-xl"),d(s,"class","chat chat-start"),d(t,"class","modal-box w-full bg-transparent shadow-none"),d(p,"method","dialog"),d(p,"class","modal-backdrop"),d(e,"id","my_modal_2"),d(e,"class","modal")},m(h,c){O(h,e,c),n(e,t),n(t,s),f&&f.m(s,null),n(s,a),i&&i.m(s,null),n(s,r),n(s,m),n(m,u),n(e,o),n(e,p)},p(h,[c]){h[1]?f?f.p(h,c):(f=Ee(h),f.c(),f.m(s,a)):f&&(f.d(1),f=null),h[1]?i&&(i.d(1),i=null):i||(i=xe(),i.c(),i.m(s,r)),c&1&&ne(u,h[0])},i:re,o:re,d(h){h&&_(e),f&&f.d(),i&&i.d()}}}function st(l,e,t){let{message:s="Default message"}=e,a=!1,r="",m=null;Ne.subscribe(o=>{t(1,a=o)}),He.subscribe(o=>{t(2,r=o)});function u(o){t(0,s=o),m&&m.showModal()}return Ue(()=>{m=document.getElementById("my_modal_2")}),l.$$set=o=>{"message"in o&&t(0,s=o.message)},[s,a,r,u]}class at extends ge{constructor(e){super(),ve(this,e,st,tt,me,{message:0,showNarration:3})}get showNarration(){return this.$$.ctx[3]}}const ye=["Keep going, you'll get it next time!","Don't worry, practice makes perfect.","Every mistake is a step forward.","You're learning, and that's what matters!","Stay positive, you'll succeed!","Mistakes are proof you're trying.","You're closer than you think!","Keep your head up, you're improving.","It's okay to get it wrong, keep trying!","You've got this, just keep at it!"],Ce=["Great job! I knew you could do it.","Excellent work, keep it up!","You're doing amazing, well done!","Fantastic! You nailed it.","You're on a roll, awesome!","Perfect! Keep shining.","Bravo! That's the right answer.","Outstanding work, you're unstoppable!","You're killing it, amazing job!","Superb! You're doing great."];function lt(){const l=Math.floor(Math.random()*Ce.length);return Ce[l]}function rt(){const l=Math.floor(Math.random()*ye.length);return ye[l]}function Ie(l,e,...t){Math.random()<l&&e(...t)}function Te(l,e,t){const s=l.slice();return s[25]=e[t],s[27]=t,s}function De(l){let e,t,s,a,r="Rank",m,u,o="Profile",p,E,f,i=l[2]&&Be(),h=we(l[6]),c=[];for(let w=0;w<h.length;w+=1)c[w]=Ae(Te(l,h,w));return{c(){e=g("table"),t=g("thead"),s=g("tr"),a=g("th"),a.textContent=r,m=C(),u=g("th"),u.textContent=o,p=C(),i&&i.c(),E=C(),f=g("tbody");for(let w=0;w<c.length;w+=1)c[w].c();this.h()},l(w){e=v(w,"TABLE",{class:!0});var x=y(e);t=v(x,"THEAD",{class:!0});var k=y(t);s=v(k,"TR",{class:!0});var P=y(s);a=v(P,"TH",{class:!0,"data-svelte-h":!0}),M(a)!=="svelte-1i0zvsj"&&(a.textContent=r),m=I(P),u=v(P,"TH",{class:!0,"data-svelte-h":!0}),M(u)!=="svelte-12kkcfa"&&(u.textContent=o),p=I(P),i&&i.l(P),P.forEach(_),k.forEach(_),E=I(x),f=v(x,"TBODY",{});var U=y(f);for(let V=0;V<c.length;V+=1)c[V].l(U);U.forEach(_),x.forEach(_),this.h()},h(){d(a,"class","w-1/4"),d(u,"class","w-1/4"),d(s,"class","my-10"),d(t,"class","my-10"),d(e,"class","table w-full bg-base-200 shadow-md rounded-xl table-auto")},m(w,x){O(w,e,x),n(e,t),n(t,s),n(s,a),n(s,m),n(s,u),n(s,p),i&&i.m(s,null),n(e,E),n(e,f);for(let k=0;k<c.length;k+=1)c[k]&&c[k].m(f,null)},p(w,x){if(w[2]?i||(i=Be(),i.c(),i.m(s,null)):i&&(i.d(1),i=null),x&68){h=we(w[6]);let k;for(k=0;k<h.length;k+=1){const P=Te(w,h,k);c[k]?c[k].p(P,x):(c[k]=Ae(P),c[k].c(),c[k].m(f,null))}for(;k<c.length;k+=1)c[k].d(1);c.length=h.length}},d(w){w&&_(e),i&&i.d(),ze(c,w)}}}function Be(l){let e,t="Score";return{c(){e=g("th"),e.textContent=t,this.h()},l(s){e=v(s,"TH",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1punxmj"&&(e.textContent=t),this.h()},h(){d(e,"class","w-2/4 text-center")},m(s,a){O(s,e,a)},d(s){s&&_(e)}}}function Pe(l){let e,t=l[25].score+"",s;return{c(){e=g("td"),s=J(t),this.h()},l(a){e=v(a,"TD",{class:!0});var r=y(e);s=X(r,t),r.forEach(_),this.h()},h(){d(e,"class","text-center text-lg")},m(a,r){O(a,e,r),n(e,s)},p(a,r){r&64&&t!==(t=a[25].score+"")&&ne(s,t)},d(a){a&&_(e)}}}function Ae(l){let e,t,s=l[27]+1+"",a,r,m,u,o,p,E,f,i=l[2]&&Pe(l);return{c(){e=g("tr"),t=g("td"),a=J(s),r=C(),m=g("td"),u=g("img"),p=C(),i&&i.c(),E=C(),this.h()},l(h){e=v(h,"TR",{class:!0});var c=y(e);t=v(c,"TD",{class:!0});var w=y(t);a=X(w,s),w.forEach(_),r=I(c),m=v(c,"TD",{class:!0});var x=y(m);u=v(x,"IMG",{src:!0,alt:!0,class:!0}),x.forEach(_),p=I(c),i&&i.l(c),E=I(c),c.forEach(_),this.h()},h(){d(t,"class","text-center text-lg"),S(u.src,o=l[25].profilePic)||d(u,"src",o),d(u,"alt","profile"),d(u,"class","w-20 h-20 rounded-full"),d(m,"class","flex justify-center items-center"),d(e,"class",f=l[25].isYou?"bg-gray-800":"bg-base-200")},m(h,c){O(h,e,c),n(e,t),n(t,a),n(e,r),n(e,m),n(m,u),n(e,p),i&&i.m(e,null),n(e,E)},p(h,c){c&64&&!S(u.src,o=h[25].profilePic)&&d(u,"src",o),h[2]?i?i.p(h,c):(i=Pe(h),i.c(),i.m(e,E)):i&&(i.d(1),i=null),c&64&&f!==(f=h[25].isYou?"bg-gray-800":"bg-base-200")&&d(e,"class",f)},d(h){h&&_(e),i&&i.d()}}}function nt(l){let e,t,s={};return e=new at({props:s}),l[16](e),{c(){Ye(e.$$.fragment)},l(a){Le(e.$$.fragment,a)},m(a,r){Oe(e,a,r),t=!0},p(a,r){const m={};e.$set(m)},i(a){t||(ue(e.$$.fragment,a),t=!0)},o(a){fe(e.$$.fragment,a),t=!1},d(a){l[16](null),qe(e,a)}}}function Ve(l){let e,t,s="Score",a,r,m,u,o,p="5 points per question";return{c(){e=g("div"),t=g("div"),t.textContent=s,a=C(),r=g("div"),m=J(l[7]),u=C(),o=g("div"),o.textContent=p,this.h()},l(E){e=v(E,"DIV",{class:!0});var f=y(e);t=v(f,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-7gzw0e"&&(t.textContent=s),a=I(f),r=v(f,"DIV",{class:!0});var i=y(r);m=X(i,l[7]),i.forEach(_),u=I(f),o=v(f,"DIV",{class:!0,"data-svelte-h":!0}),M(o)!=="svelte-10ffxfk"&&(o.textContent=p),f.forEach(_),this.h()},h(){d(t,"class","stat-title"),d(r,"class","stat-value text-primary"),d(o,"class","stat-desc"),d(e,"class","w-1/2 stat bg-base-200 mb-10 p-4 rounded-xl shadow-md")},m(E,f){O(E,e,f),n(e,t),n(e,a),n(e,r),n(r,m),n(e,u),n(e,o)},p(E,f){f&128&&ne(m,E[7])},d(E){E&&_(e)}}}function Me(l){let e,t='<div class="stat-title mb-5">Badges</div> <div id="badgeGrid" class="grid grid-cols-2 gap-4"><div class="grid w-32 h-32 rounded bg-base-100 text-accent-content items-center"><img src="/img/lock.png" id="badge1" class="w-3/4 h-3/4 mx-auto" alt="Locked Badage 1"/></div> <div class="grid w-32 h-32 rounded bg-base-100 text-accent-content items-center"><img src="/img/lock.png" id="badge2" class="w-3/4 h-3/4 mx-auto" alt="Locked Badage 2"/></div> <div class="grid w-32 h-32 rounded bg-base-100 text-accent-content items-center"><img src="/img/lock.png" id="badge3" class="w-3/4 h-3/4 mx-auto" alt="Locked Badage 3"/></div> <div class="grid w-32 h-32 rounded bg-base-100 text-accent-content items-center"><img src="/img/lock.png" id="badge4" class="w-3/4 h-3/4 mx-auto" alt="Locked Badage 4"/></div></div>';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(s){e=v(s,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1kv052r"&&(e.innerHTML=t),this.h()},h(){d(e,"class","w-1/2 bg-base-200 p-4 rounded-xl shadow-md")},m(s,a){O(s,e,a)},d(s){s&&_(e)}}}function it(l){let e,t,s,a,r,m="Answer the following question",u,o,p,E,f,i,h,c,w="Option A",x,k,P="Option B",U,V,Z="Option C",z,H,$="Option D",K,b,Y="Option E",Q,q,ie,oe,j,ee,F,ce,be,D=l[3]&&De(l),je={};q=new et({props:je}),l[15](q);let N=he&&nt(l),B=l[2]&&Ve(l),A=l[4]&&Me();return{c(){e=g("div"),t=g("div"),D&&D.c(),s=C(),a=g("div"),r=g("p"),r.textContent=m,u=C(),o=g("div"),p=g("div"),E=g("img"),i=C(),h=g("div"),c=g("button"),c.textContent=w,x=C(),k=g("button"),k.textContent=P,U=C(),V=g("button"),V.textContent=Z,z=C(),H=g("button"),H.textContent=$,K=C(),b=g("button"),b.textContent=Y,Q=C(),Ye(q.$$.fragment),ie=C(),N&&N.c(),oe=C(),j=g("div"),B&&B.c(),ee=C(),A&&A.c(),this.h()},l(T){e=v(T,"DIV",{class:!0});var L=y(e);t=v(L,"DIV",{class:!0});var te=y(t);D&&D.l(te),te.forEach(_),s=I(L),a=v(L,"DIV",{class:!0});var R=y(a);r=v(R,"P",{class:!0,"data-svelte-h":!0}),M(r)!=="svelte-1ixx8g5"&&(r.textContent=m),u=I(R),o=v(R,"DIV",{class:!0});var _e=y(o);p=v(_e,"DIV",{class:!0});var se=y(p);E=v(se,"IMG",{src:!0,alt:!0,class:!0}),i=I(se),h=v(se,"DIV",{class:!0});var G=y(h);c=v(G,"BUTTON",{class:!0,"data-svelte-h":!0}),M(c)!=="svelte-14xy53y"&&(c.textContent=w),x=I(G),k=v(G,"BUTTON",{class:!0,"data-svelte-h":!0}),M(k)!=="svelte-1y6vi1e"&&(k.textContent=P),U=I(G),V=v(G,"BUTTON",{class:!0,"data-svelte-h":!0}),M(V)!=="svelte-1dhefb6"&&(V.textContent=Z),z=I(G),H=v(G,"BUTTON",{class:!0,"data-svelte-h":!0}),M(H)!=="svelte-1vjcq7a"&&(H.textContent=$),K=I(G),b=v(G,"BUTTON",{class:!0,"data-svelte-h":!0}),M(b)!=="svelte-d5s79q"&&(b.textContent=Y),G.forEach(_),se.forEach(_),_e.forEach(_),Q=I(R),Le(q.$$.fragment,R),ie=I(R),N&&N.l(R),R.forEach(_),oe=I(L),j=v(L,"DIV",{class:!0});var ae=y(j);B&&B.l(ae),ee=I(ae),A&&A.l(ae),ae.forEach(_),L.forEach(_),this.h()},h(){d(t,"class","w-1/4 mx-auto"),d(r,"class","text-xl mb-20"),S(E.src,f=l[5])||d(E,"src",f),d(E,"alt","Question Image"),d(E,"class","w-3/4 h-3/4"),d(c,"class","btn btn-primary"),d(k,"class","btn btn-primary"),d(V,"class","btn btn-primary"),d(H,"class","btn btn-primary"),d(b,"class","btn btn-primary"),d(h,"class","flex mt-4 space-x-4"),d(p,"class","flex flex-col items-center"),d(o,"class","flex justify-between items-center"),d(a,"class","p-6 w-1/2 mx-10 bg-base-200 rounded-xl shadow-md"),d(j,"class","w-1/4 mx-auto flex flex-col"),d(e,"class","flex justify-between")},m(T,L){O(T,e,L),n(e,t),D&&D.m(t,null),n(e,s),n(e,a),n(a,r),n(a,u),n(a,o),n(o,p),n(p,E),n(p,i),n(p,h),n(h,c),n(h,x),n(h,k),n(h,U),n(h,V),n(h,z),n(h,H),n(h,K),n(h,b),n(a,Q),Oe(q,a,null),n(a,ie),N&&N.m(a,null),n(e,oe),n(e,j),B&&B.m(j,null),n(j,ee),A&&A.m(j,null),F=!0,ce||(be=[W(c,"click",l[10]),W(k,"click",l[11]),W(V,"click",l[12]),W(H,"click",l[13]),W(b,"click",l[14])],ce=!0)},p(T,[L]){T[3]?D?D.p(T,L):(D=De(T),D.c(),D.m(t,null)):D&&(D.d(1),D=null),(!F||L&32&&!S(E.src,f=T[5]))&&d(E,"src",f);const te={};q.$set(te),he&&N.p(T,L),T[2]?B?B.p(T,L):(B=Ve(T),B.c(),B.m(j,ee)):B&&(B.d(1),B=null),T[4]?A||(A=Me(),A.c(),A.m(j,null)):A&&(A.d(1),A=null)},i(T){F||(ue(q.$$.fragment,T),ue(N),F=!0)},o(T){fe(q.$$.fragment,T),fe(N),F=!1},d(T){T&&_(e),D&&D.d(),l[15](null),qe(q),N&&N.d(),B&&B.d(),A&&A.d(),ce=!1,Re(be)}}}const ot=20;function ct(l){const e=["/img/badges/badge1.png","/img/badges/badge2.png","/img/badges/badge3.png","/img/badges/badge4.png"],t=document.getElementById(`badge${l}`);t&&(t.src=e[l])}function dt(l,e,t){let s,a=de(0),r=de(0);Se(l,r,b=>t(7,s=b));let m=de([]),u,o,p=!1,E=!1,f=!1;Ne.subscribe(b=>{}),Fe.subscribe(b=>{t(2,p=b)}),We.subscribe(b=>{t(3,E=b)}),he.subscribe(b=>{}),Je.subscribe(b=>{t(4,f=b)});let i=["B","E","E","E","A","B","D","E","B","B","E","B","C","E","A","C","B","D","B","A"],h=[{score:77,profilePic:"/img/npc/avatar1.png",isYou:!1},{score:69,profilePic:"/img/npc/avatar2.png",isYou:!1},{score:42,profilePic:"/img/npc/avatar3.png",isYou:!1},{score:33,profilePic:"/img/npc/avatar4.png",isYou:!1},{score:21,profilePic:"/img/npc/avatar5.png",isYou:!1}];function c(b){const Y=b?"Correct answer!":"Wrong answer!";u.showToast(b,Y)}const w=b=>{i[le(a)]===b?(r.update(Y=>Y+5),m.update(Y=>[...Y,!0]),c(!0),Ie(.5,o.showNarration,lt())):(m.update(Y=>[...Y,!1]),c(!1),Ie(.5,o.showNarration,rt())),console.log(le(a)),a.update(Y=>Y+1)};r.subscribe(b=>{b>10&&ct(1)});let x="/img/questions/q-0.png";a.subscribe(b=>{b>=ot&&(Xe.set(le(m)),Qe("/posttest")),t(5,x=`/img/questions/q-${b}.png`)});const k=Ke(r,b=>[...h,{profilePic:le(He),score:b,isYou:!0}].sort((Q,q)=>q.score-Q.score));let P=[];k.subscribe(b=>{t(6,P=b)});const U=()=>w("A"),V=()=>w("B"),Z=()=>w("C"),z=()=>w("D"),H=()=>w("E");function $(b){pe[b?"unshift":"push"](()=>{u=b,t(0,u)})}function K(b){pe[b?"unshift":"push"](()=>{o=b,t(1,o)})}return[u,o,p,E,f,x,P,s,r,w,U,V,Z,z,H,$,K]}class bt extends ge{constructor(e){super(),ve(this,e,dt,it,me,{})}}export{bt as component};

import{s as O,e as b,b as g,d as _,f as E,h as $,i as w,j as m,k as I,l as h,m as p,n as T,y as d,C as V,o as A,v as k,w as x,x as U,r as Y}from"../chunks/scheduler.Du_WS53y.js";import{S as z,i as D}from"../chunks/index.BEvaicvu.js";import{r as C,u as H,b as J,n as L,s as M,q as R,c as F,g as G,i as K}from"../chunks/store.DLfTZ2jX.js";import{w as Q}from"../chunks/index.B4nj-uY_.js";import{g as S}from"../chunks/entry.De2naj9O.js";import{B as W}from"../chunks/constants.BWkPU7VE.js";function q(c){let e,l,i,o;return{c(){e=b("p"),l=k("You have completed round "),i=k(c[0]),o=k(" of the study. Thank you very much so far!")},l(a){e=_(a,"P",{});var r=E(e);l=x(r,"You have completed round "),i=x(r,c[0]),o=x(r," of the study. Thank you very much so far!"),r.forEach(m)},m(a,r){h(a,e,r),p(e,l),p(e,i),p(e,o)},p(a,r){r&1&&U(i,a[0])},d(a){a&&m(e)}}}function P(c){let e,l=`Thank you for participating in this test. Please show this screen to the\r
      supervising person.`;return{c(){e=b("p"),e.textContent=l},l(i){e=_(i,"P",{"data-svelte-h":!0}),$(e)!=="svelte-1h4on79"&&(e.textContent=l)},m(i,o){h(i,e,o)},d(i){i&&m(e)}}}function N(c){let e,l="To proceed in the study, please press the button below.",i,o,a,r,s;return{c(){e=b("p"),e.textContent=l,i=g(),o=b("button"),a=k("Next round"),this.h()},l(t){e=_(t,"P",{"data-svelte-h":!0}),$(e)!=="svelte-1unlanr"&&(e.textContent=l),i=w(t),o=_(t,"BUTTON",{class:!0});var n=E(o);a=x(n,"Next round"),n.forEach(m),this.h()},h(){I(o,"class","btn btn-primary mt-5  svelte-10exnw4"),o.disabled=Z},m(t,n){h(t,e,n),h(t,i,n),h(t,o,n),p(o,a),r||(s=Y(o,"click",c[3]),r=!0)},p:T,d(t){t&&(m(e),m(i),m(o)),r=!1,s()}}}function X(c){let e,l,i="Thank you for your participation",o,a,r,s=c[0]<3&&q(c),t=c[0]>=3&&P(),n=c[1]&&N(c);return{c(){e=b("div"),l=b("h1"),l.textContent=i,o=g(),s&&s.c(),a=g(),t&&t.c(),r=g(),n&&n.c(),this.h()},l(u){e=_(u,"DIV",{class:!0});var f=E(e);l=_(f,"H1",{"data-svelte-h":!0}),$(l)!=="svelte-zerxh2"&&(l.textContent=i),o=w(f),s&&s.l(f),a=w(f),t&&t.l(f),r=w(f),n&&n.l(f),f.forEach(m),this.h()},h(){I(e,"class","p-6 max-w-4xl mx-auto bg-base-200 rounded-xl shadow-md space-y-4")},m(u,f){h(u,e,f),p(e,l),p(e,o),s&&s.m(e,null),p(e,a),t&&t.m(e,null),p(e,r),n&&n.m(e,null)},p(u,[f]){u[0]<3?s?s.p(u,f):(s=q(u),s.c(),s.m(e,a)):s&&(s.d(1),s=null),u[0]>=3?t||(t=P(),t.c(),t.m(e,r)):t&&(t.d(1),t=null),u[1]?n?n.p(u,f):(n=N(u),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:T,o:T,d(u){u&&m(e),s&&s.d(),t&&t.d(),n&&n.d()}}}let Z=!1;function ee(c,e,l){let i,o=d(C),a=Q(!1);return V(c,a,s=>l(1,i=s)),C.subscribe(s=>{l(0,o=s)}),A(async()=>{const s=d(H),t=d(J),n=d(L),u=d(M),f=d(R),j=d(F),B=d(G)[o];try{const v=await fetch(`${W}/addset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:s,gamifiedElements:B,stai:t,ngse:n,sims:u,questions:f,answerTime:j})});if(!v.ok)throw new Error("Network response was not ok");const y=await v.json();console.log(y),y.round>0&&(C.set(y.round),y.round<3&&a.set(!0))}catch(v){console.error("Error uploading data:",v)}}),[o,i,a,async()=>{d(K)?S("/avatars"):S("/questions")}]}class le extends z{constructor(e){super(),D(this,e,ee,X,O,{})}}export{le as component};

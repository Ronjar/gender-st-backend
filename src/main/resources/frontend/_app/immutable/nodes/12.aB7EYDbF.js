import{s as H,e as k,z as S,b as E,d as w,f as I,A as P,j as _,i as T,k as z,l as y,m as b,B as J,n as A,C as j,o as L,h as R,D as O,r as M,v}from"../chunks/scheduler.cyf-gJwo.js";import{S as G,i as K}from"../chunks/index.BE-2TLei.js";import{r as B,u as Q,b as W,n as X,s as Z,q as ee,c as te,g as se,i as ne}from"../chunks/store.D4Uwuwzv.js";import{w as V}from"../chunks/index.DAwqH3JR.js";import{g as $}from"../chunks/entry.x1AtQYgT.js";import{B as oe}from"../chunks/constants.BWkPU7VE.js";function D(r){let e,i="Results are submitted any moment...";return{c(){e=k("p"),e.textContent=i},l(s){e=w(s,"P",{"data-svelte-h":!0}),R(e)!=="svelte-fv6od1"&&(e.textContent=i)},m(s,n){y(s,e,n)},d(s){s&&_(e)}}}function F(r){let e,i="Results have been submitted.",s,n,o=r[2]>2&&U();return{c(){e=k("p"),e.textContent=i,s=E(),o&&o.c(),n=O()},l(t){e=w(t,"P",{"data-svelte-h":!0}),R(e)!=="svelte-197bhd9"&&(e.textContent=i),s=T(t),o&&o.l(t),n=O()},m(t,c){y(t,e,c),y(t,s,c),o&&o.m(t,c),y(t,n,c)},p(t,c){t[2]>2?o||(o=U(),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(t){t&&(_(e),_(s),_(n)),o&&o.d(t)}}}function U(r){let e,i=`Thank you for participating in this test. Show this screen to the\r
        supervising person`;return{c(){e=k("p"),e.textContent=i},l(s){e=w(s,"P",{"data-svelte-h":!0}),R(e)!=="svelte-x09pvb"&&(e.textContent=i)},m(s,n){y(s,e,n)},d(s){s&&_(e)}}}function Y(r){let e,i="To proceed in the study, please press the button below.",s,n,o,t,c;return{c(){e=k("p"),e.textContent=i,s=E(),n=k("button"),o=S("Next round"),this.h()},l(l){e=w(l,"P",{"data-svelte-h":!0}),R(e)!=="svelte-1unlanr"&&(e.textContent=i),s=T(l),n=w(l,"BUTTON",{class:!0});var p=I(n);o=P(p,"Next round"),p.forEach(_),this.h()},h(){z(n,"class","btn btn-primary mt-5  svelte-10exnw4"),n.disabled=le},m(l,p){y(l,e,p),y(l,s,p),y(l,n,p),b(n,o),t||(c=M(n,"click",r[7]),t=!0)},p:A,d(l){l&&(_(e),_(s),_(n)),t=!1,c()}}}function ie(r){let e,i,s=r[6]()+"",n,o,t,c,l=r[0]+1+"",p,q,h,C,g,d=!r[1]&&D(),u=r[1]&&F(r),f=r[3]&&Y(r);return{c(){e=k("div"),i=k("h1"),n=S(s),o=E(),t=k("p"),c=S("You have completed round "),p=S(l),q=S(" of the study. Thank you very much so far!"),h=E(),d&&d.c(),C=E(),u&&u.c(),g=E(),f&&f.c(),this.h()},l(m){e=w(m,"DIV",{class:!0});var a=I(e);i=w(a,"H1",{});var x=I(i);n=P(x,s),x.forEach(_),o=T(a),t=w(a,"P",{});var N=I(t);c=P(N,"You have completed round "),p=P(N,l),q=P(N," of the study. Thank you very much so far!"),N.forEach(_),h=T(a),d&&d.l(a),C=T(a),u&&u.l(a),g=T(a),f&&f.l(a),a.forEach(_),this.h()},h(){z(e,"class","p-6 max-w-4xl mx-auto bg-base-200 rounded-xl shadow-md space-y-4")},m(m,a){y(m,e,a),b(e,i),b(i,n),b(e,o),b(e,t),b(t,c),b(t,p),b(t,q),b(e,h),d&&d.m(e,null),b(e,C),u&&u.m(e,null),b(e,g),f&&f.m(e,null)},p(m,[a]){a&1&&l!==(l=m[0]+1+"")&&J(p,l),m[1]?d&&(d.d(1),d=null):d||(d=D(),d.c(),d.m(e,C)),m[1]?u?u.p(m,a):(u=F(m),u.c(),u.m(e,g)):u&&(u.d(1),u=null),m[3]?f?f.p(m,a):(f=Y(m),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:A,o:A,d(m){m&&_(e),d&&d.d(),u&&u.d(),f&&f.d()}}}let le=!1;function ae(r,e,i){let s,n,o;j(r,B,h=>i(2,n=h));let t=V(!1);j(r,t,h=>i(3,o=h));let c=V(!1);j(r,c,h=>i(1,s=h));let l;B.subscribe(h=>{i(0,l=h)}),L(async()=>{const h=v(Q),C=v(W),g=v(X),d=v(Z),u=v(ee),f=v(te),m=v(se)[l];i(0,l=v(B));try{const a=await fetch(`${oe}/addset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:h,gamifiedElements:m,stai:C,ngse:g,sims:d,questions:u,answerTime:f})});if(!a.ok)throw new Error("Network response was not ok");const x=await a.json();c.set(!0),(x.round>0||x.round<3)&&(B.set(x.round),t.set(!0))}catch(a){console.error("Error uploading data:",a)}});function p(){return l<2?`End of study part ${l+1}`:"End of study, tank you for your participation"}return[l,s,n,o,t,c,p,async()=>{v(ne)?$("/avatars"):$("/questions")}]}class pe extends G{constructor(e){super(),K(this,e,ae,ie,H,{})}}export{pe as component};
